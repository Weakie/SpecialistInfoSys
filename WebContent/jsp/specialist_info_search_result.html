<!DOCTYPE html>
<html lang="en">
<script type="text/javascript">
	var xmlHttp;

	function createXMLHttpRequest() {
		if (window.ActiveXObject) {
			xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
		} else if (window.XMLHttpRequest) {
			xmlHttp = new XMLHttpRequest();
		}
	}
	
	function createQueryString(item, itemID) {
		var queryString = "item=" + item + "&itemID=" + itemID;
		return queryString;
	}


	function refreshChapterList() {
		var course = document.getElementById("course").value;

		if (course == "") {
			clearChapterList();
			return;
		}
		
		var url = "/TestOnline/testAjaxServlet?" + createQueryString("course", course)
				+ "&ts=" + new Date().getTime();

		createXMLHttpRequest();
		xmlHttp.onreadystatechange = handleStateChangeChapter;
		xmlHttp.open("GET", url, true);
		xmlHttp.send(null);
	}

	function handleStateChangeChapter() {
		if (xmlHttp.readyState == 4) {
			if (xmlHttp.status == 200) {
				updateChapterList();
			}
		}
	}
	
	function updateChapterList() {
		clearChapterList();
		var chapter = document.getElementById("chapter");
		var results = xmlHttp.responseXML.getElementsByTagName("chapter");
		
		var option = null;
		for ( var i = 0; i < results.length; i++) {
			option = document.createElement("option");
			option.setAttribute("value", results[i].firstChild.firstChild.nodeValue);
			option.appendChild(document
					.createTextNode(results[i].lastChild.firstChild.nodeValue));
			chapter.appendChild(option);
		}
	}
	
	function clearChapterList() {
		var chapter = document.getElementById("chapter");
		while (chapter.childNodes.length > 1) {
			chapter.removeChild(chapter.lastChild);
		}
	}
	
	function refreshKnowledgeList() {
		var chapter = document.getElementById("chapter").value;
		if (chapter == "") {
			clearKnowledgeList();
			return;
		}

		var url = "/TestOnline/testAjaxServlet?" + createQueryString("chapter", chapter)
				+ "&ts=" + new Date().getTime();

		createXMLHttpRequest();
		xmlHttp.onreadystatechange = handleStateChangeKnowledge;
		xmlHttp.open("GET", url, true);
		xmlHttp.send(null);
	}
	
	function handleStateChangeKnowledge() {
		if (xmlHttp.readyState == 4) {
			if (xmlHttp.status == 200) {
				updateKnowledgeList();
			}
		}
	}
	
	function updateKnowledgeList() {
		clearKnowledgeList();
		var knowledge = document.getElementById("knowledge");
		var results = xmlHttp.responseXML.getElementsByTagName("knowledge");
		var option = null;
		for ( var i = 0; i < results.length; i++) {
			option = document.createElement("option");
			option.setAttribute("value", results[i].firstChild.firstChild.nodeValue);
			option.appendChild(document
					.createTextNode(results[i].lastChild.firstChild.nodeValue));
			knowledge.appendChild(option);
		}
	}

	function clearKnowledgeList() {
		var knowledge = document.getElementById("knowledge");
		while (knowledge.childNodes.length > 1) {
			alert(knowledge.childNodes.length);
			knowledge.removeChild(knowledge.lastChild);
		}
	}
	
	var contactTableIndex = 1;
	function addContactTable() {
		contactTableIndex++;
		
		if(contactTableIndex > 10){
			var button = document.getElementById("contactButton");
			button.setAttribute("class", "btn btn-default disabled");
			return;
		}
		
		var table = document.getElementById("contact-table");
		var tr = document.createElement("tr");
		tr.setAttribute("id", "tableContact:"+contactTableIndex);
		
		var th1 = document.createElement("th");
		var input1 = document.createElement("input");
		input1.setAttribute("type", "text");
		input1.setAttribute("class", "form-control");
		input1.setAttribute("id","name");
		input1.setAttribute("placeholder","联系人"+contactTableIndex);
		th1.appendChild(input1);
		
		var th2 = document.createElement("th");
		var input2 = document.createElement("input");
		input2.setAttribute("type", "text");
		input2.setAttribute("class", "form-control");
		input2.setAttribute("id","name");
		input2.setAttribute("placeholder","联系方式");
		th2.appendChild(input2);
		
		var th3 = document.createElement("th");
		var button = document.createElement("button");
		button.setAttribute("type", "button");
		button.setAttribute("class", "btn btn-default");
		button.setAttribute("onclick", "removeContactTable("+contactTableIndex+")");
		var itag = document.createElement("i");
		itag.setAttribute("class","glyphicon glyphicon-minus");
		button.appendChild(itag);
		th3.appendChild(button);
		
		tr.appendChild(th1);
		tr.appendChild(th2);
		tr.appendChild(th3);
		table.appendChild(tr);
	}
	
	function removeContactTable(i) {
		var table = document.getElementById("contact-table");
		
		var childNodes = table.getElementsByTagName("tr");
		var id = "tableContact:"+i;
		for(var k=1;k < childNodes.length;k++){
			var node = childNodes.item(k);
			var id2 = node.attributes["id"].nodeValue;
			if( id2 != null && id2 == id){
				table.removeChild(node);
				break;
			}
		}
	}
	
	var addressTableIndex = 1;
	function addAddressTable() {
		addressTableIndex++;
		
		if(addressTableIndex > 10){
			var button = document.getElementById("addressButton");
			button.setAttribute("class", "btn btn-default disabled");
			return;
		}
		
		var table = document.getElementById("address-table");
		var tr = document.createElement("tr");
		tr.setAttribute("id", "tableAddress:"+addressTableIndex);
		
		var th1 = document.createElement("th");
		var label = document.createElement("label");
		label.setAttribute("style", "width:60px;");
		label.setAttribute("class", "checkbox-inline");
		var input1 = document.createElement("input");
		input1.setAttribute("type", "checkbox");
		input1.setAttribute("value", "option1");
		input1.setAttribute("id","inlineCheckbox1");
		label.appendChild(input1);
		label.appendChild(document.createTextNode("国内"));
		th1.appendChild(label);
		
		var th2 = document.createElement("th");
		var select2 = document.createElement("select");
		select2.setAttribute("name", "text");
		select2.setAttribute("class", "form-control");
		select2.setAttribute("id", "text");
		select2.setAttribute("style", "width:100px;");
		th2.appendChild(select2);
		
		var th3 = document.createElement("th");
		var select3 = document.createElement("select");
		select3.setAttribute("name", "text");
		select3.setAttribute("class", "form-control");
		select3.setAttribute("id", "text");
		select3.setAttribute("style", "width:100px;");
		th3.appendChild(select3);
		
		var th4 = document.createElement("th");
		var button = document.createElement("button");
		button.setAttribute("type", "button");
		button.setAttribute("class", "btn btn-default");
		button.setAttribute("onclick", "removeAddressTable("+addressTableIndex+")");
		var itag = document.createElement("i");
		itag.setAttribute("class","glyphicon glyphicon-minus");
		button.appendChild(itag);
		th4.appendChild(button);
		
		tr.appendChild(th1);
		tr.appendChild(th2);
		tr.appendChild(th3);
		tr.appendChild(th4);
		table.appendChild(tr);
	}
	
	function removeAddressTable(i) {
		var table = document.getElementById("address-table");
		
		var childNodes = table.getElementsByTagName("tr");
		var id = "tableAddress:"+i;
		for(var k=1;k < childNodes.length;k++){
			var node = childNodes.item(k);
			var id2 = node.attributes["id"].nodeValue;
			if( id2 != null && id2 == id){
				table.removeChild(node);
				break;
			}
		}
	}
</script>
<head>
  <meta charset="utf-8">
  <title>搜索结果-上海同济城市规划设计研究院</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

	<!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
	<!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
	<!--script src="js/less-1.3.3.min.js"></script-->
	<!--append ‘#!watch’ to the browser URL, then refresh the page. -->
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="img/favicon.png">
  
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>
</head>

<body>
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
					<a class="navbar-brand" href="#">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同济专家信息库&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
				</div>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active">
							<a href="#">基本信息</a>
						</li>
						<li>
							<a href="#">修改信息</a>
						</li>
						<li>
							<a href="#">高级搜索</a>
						</li>
					</ul>
					<form class="navbar-form navbar-left" role="search">
						<div class="form-group">
							<input type="text" class="form-control" style="width:305px;" placeholder="关键字：专业类别、研究专长、工作地点"/>
						</div> <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i>搜索</button>
					</form>
					<ul class="nav navbar-nav navbar-right">
						<li>
							<a href="#">Link</a>
						</li>
						<li class="dropdown">
							 <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-cog"></i>个人设置<strong class="caret"></strong></a>
							<ul class="dropdown-menu">
								<li>
									<a href="#">Action</a>
								</li>
								<li>
									<a href="#">Another action</a>
								</li>
								<li>
									<a href="#">Something else here</a>
								</li>
								<li class="divider">
								</li>
								<li>
									<a href="#">Separated link</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
			</nav>
		</div>
		<div class="col-md-12 column">
			<br><br><br>
			<h3 class="text-left">
				<Strong>搜索结果</Strong>
			</h3>
			<div class="row clearfix">
				<div class="col-md-8 column">
					<h2>
						张三
					</h2>
					<p>
						专家的基本信息，右边是图片
					</p>
					<p>
						<a class="btn" href="#">View details »</a>
					</p>
				</div>
				<div class="col-md-4 column">
					<img alt="140x140" src="http://lorempixel.com/140/140/" />
				</div>
			</div>
			<hr>
			<div class="row clearfix">
				<div class="col-md-8 column">
					<h2>
						李四
					</h2>
					<p>
						专家的基本信息，右边是图片
					</p>
					<p>
						<a class="btn" href="#">View details »</a>
					</p>
				</div>
				<div class="col-md-4 column">
					<img alt="140x140" src="http://lorempixel.com/140/140/" />
				</div>
			</div>
		</div>
	</div>	
	<h5 class="text-center text-muted">
		上海同济城市规划设计研究院
	</h5>
</div>
</body>
</html>
